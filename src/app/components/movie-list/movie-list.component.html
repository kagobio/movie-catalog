<main class="p-4 bg-gray-900 text-white min-h-screen">
  <div class="mb-4 flex justify-center">
    <input
      type="text"
      [(ngModel)]="searchQuery"
      placeholder="Buscar películas..."
      class="w-full md:w-1/2 p-2 rounded text-black"
    />
    <button
      (click)="searchMovies()"
      class="ml-2 bg-blue-500 text-white p-2 rounded hover:bg-blue-600"
    >
      Buscar
    </button>
  </div>

  <div class="mb-4 flex justify-center">
    <select
      [(ngModel)]="selectedGenre"
      (change)="filterByGenre()"
      class="w-full md:w-1/3 p-2 rounded text-black"
    >
      <option value="" disabled selected>Seleccionar Género</option>
      <option *ngFor="let genre of genres" [value]="genre.id">
        {{ genre.name }}
      </option>
    </select>
  </div>

  <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6">
    <div
      *ngFor="let movie of movies"
      class="bg-gray-800 rounded overflow-hidden shadow-lg"
    >
      <a
        [routerLink]="'/movie/' + movie.id"
        class="block hover:opacity-80 transition"
      >
        <img
          [src]="
            movie.poster_path
              ? 'https://image.tmdb.org/t/p/w500' + movie.poster_path
              : 'assets/default-image.jpg'
          "
          [alt]="movie.title"
          class="w-full object-contain"
        />
        <div class="p-2">
          <h2 class="text-center font-bold text-white text-sm truncate">
            {{ movie.title }}
          </h2>
        </div>
      </a>

      <div class="p-2">
        <button
          (click)="addFavorite(movie)"
          class="bg-red-500 text-white p-2 rounded hover:bg-red-600 w-full"
        >
          Favoritos
        </button>
      </div>
    </div>
  </div>
</main>
